<form novalidate name="itemsForm" class="uploadList">
	
	<div id="dropzone" class="span8 well well-large">
			<span class="entypo">&#128228;</span>
			
			<div class="form-span">
				<span class="elgg-button elgg-button-action elgg-button-upload"> <span>Add files...</span>
					<input id="fileupload" type="file" name="fileData"  multiple=""/>
				</span>
				
				<div class="default_values">
					<div class="default-license">
						<label>Default license:</label>
						<select class="elgg-input-dropdown default-license-input" ng-options="license.value as license.text for license in licenses" ng-model="default_license">
						</select>
					</div>
				</div>
			</div>
			<span class="more-info"> - or drag files here - </span>
	</div>
		
	<ul class="elgg-list elgg-list-entity mason">

		<li class="elgg-item" data-ng-repeat="fileItem in fileInfo | reverse" ng-show="reAlign()">

			<div class="elgg-image-block">
				<button id="delete" ng-click="deleteEntry($index)" class="entypo">
					&#10005;
				</button>

				<table>
					<tr>
						<td>Title:</td>
						<td>
							<input required type="text" name='name' class="elgg-input-text" ng-model="fileItem['name']" placeholder="Enter titleâ€¦" ng-change="changed(fileItem['guid'])"/>
						</td>
					</tr>
					<tr>
						<td>License:</td>
						<td>
							<select required name="license" id="license" class="elgg-input-dropdown uploadSelect" ng-options="license.value as license.text for license in licenses" ng-model="fileItem['license']" ng-change="changed(fileItem['guid'])">
							</select>
						</td>
					</tr>
					<tr>
						<td>Privacy:</td>
						<td>
							<select required name="access_id" id="access_id" class="elgg-input-dropdown elgg-input-access uploadSelect" ng-options="a.value as a.text for a in access" ng-model="fileItem['access_id']" ng-change="changed(fileItem['guid'])"></select>
						</td>
					</tr>
					<tr ng-show="isImage(fileItem)">
						<td>Album:</td>
						<td>
							<select name="albumId" id="album" ng-model="fileItem['albumId']"  ng-options="a.id as a.title for a in albums" ng-change="changed(fileItem['guid'])" class="elgg-input-dropdown elgg-input-access uploadSelect">
								<option value="new"> -- New Album -- </option>
							</select><span class="add-new-album" ng-click="newAlbum($index)">+</span>
						</td>
					</tr>
				</table>
				
				<img class="preview" ng-show="getFileThumbnail(fileItem.entry, fileItem.thumbSecond, fileItem.guid)" ng-src="{{getFileThumbnail(fileItem.entry, fileItem.thumbSecond, fileItem.guid)}}"/>
					<!--&#59235; other arrow-->
				<a ng-show="isShowThumbArrows(fileItem.entryRefresh, $index)" ng-click="rotateImage(fileItem.entryRefresh, 1, $index)" class="uploadLeftArrow entypo">&#59229;</a>
				<a ng-show="isShowThumbArrows(fileItem.entryRefresh, $index)" ng-click="rotateImage(fileItem.entryRefresh, 0, $index)" class="uploadRightArrow entypo">&#59230;</a>
	

				<div class="progress">
					<div class="bar p{{fileItem['progress']}}" ng-style="{width: fileItem['progress'] + '%'}"></div>
				</div>
			</div>
		</li>

	</ul>
	<br/>
	<a id="saveButton" ng-class="{disabled: itemsForm.$invalid}" ng-show="itemsForm.$dirty" class="elgg-button elgg-button-action" ng-click="saveAll()">Save all</a>
	
	<div style="display:none;" id="album-create-wrapper">
		<input type="text" placeholder="Album title"  ng-model="albumName"/>
		<a class="elgg-button elgg-button-action" ng-click="createAlbum($index)">Create</a>
	</div>
</form>
