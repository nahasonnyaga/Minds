<div class="mdl-tabs__tab-bar">
    <a [router-link]="['/discovery', {filter: _filter, type: 'videos'}]" class="mdl-tabs__tab" [class]="{'is-active': _type == 'videos' || _type == 'all'}">Videos</a>
    <a [router-link]="['/discovery', {filter: _filter, type: 'images'}]" class="mdl-tabs__tab" [class]="{'is-active': _type == 'images' || _type == 'all'}">Images</a>
    <a [router-link]="['/discovery', {filter: _filter, type: 'channels'}]" class="mdl-tabs__tab" [class]="{'is-active': _type == 'channels' || _type == 'all'}">Channels</a>
</div>

<div class="mdl-grid newsfeed-grid" style="max-width:900px">

    <div class="mdl-cell mdl-cell--4-col mdl-card mdl-shadow--2dp" *ng-for="#entity of entities">

      <!-- START: Owner block -->
      <div class="mdl-card__supporting-text mdl-color-text--grey-600 owner-block" *ng-if="entity.type == 'object'">
        <div class="avatar">
          <a [router-link]="['/channel', {username: entity.ownerObj.username}]">
            <img src="/icon/{{entity.ownerObj.guid}}/small}}" class="mdl-shadow--2dp"/>
          </a>
        </div>
        <div class="body">
          <a [router-link]="['/channel', {username: entity.ownerObj.username}]">
            <strong>{{entity.ownerObj.name}}</strong>
          </a>
          <span>{{toDate(entity.time_created)}}</span>
        </div>
      </div>
      <!-- END: Owner Block -->

      <!-- START: User Only -->
      <minds-card-user [object]="entity" *ng-if="entity.type == 'user'"></minds-card-user>
      <!-- END: User Only -->
    </div>

    <infinite-scroll
        distance="25%"
        (load)="load()"
        *ng-if="moreData"
        />
        <div class="mdl-spinner mdl-js-spinner is-active" [mdl] [hidden]="!inProgress"></div>
    </infinite-scroll>

</div>
